
0215

▼残り実装内容
・チームの詳細ページ
  チーム名
  ロゴ画像
  チームの拠点
  URL
  招待用リンク：コピーボタン付き
  チームのアルバム(後日実装)
  ・追加と削除両方できる

▼課題
    1. 複数DBを扱ったときに、トランザクションが効かない(済み)
      →DB構成を見直し、1つのDBで実施

      対応① (済み)
        ・各モデルで、接続しているDBのconnection指定を削除

      対応② (済み)
        ・default接続はそのまま

      対応③ (済み)
        ・DB上でのテーブルを再作成する

    2. チーム招待時、誰に送付するか

    3.ソーシャルログインしたユーザのチーム情報がない
      ・新規登録であれば、チーム登録画面へ遷移(チームの新規登録、チームに入る登録の2系統)
      ・ソーシャルログインからのログイン後のリダイレクト先を変更する(チーム登録用のコントローラへ)
    
      1- LINE ログインは必ずメールアドレスがある状態で登録されてない
        ・メールアドレスがない場合の登録処理(条件)を追加
        →初期ログインで、メールアドレスが登録されていないとerrorを起こす
        →テーブル構成を見直す。
          対応① (済み)
              テーブル：usersのカラムemailを必須にしているが、任意に変更

          対応②
            チームを登録する処理の追加
              class: TeamRegisterController
                ・ソーシャルログインで登録したユーザに対して、ログインした時にユーザ情報からチームを取得

              条件(新規ユーザ登録のみ)
                -1. ソーシャルログインでログインしたユーザに対して、以下を確認する
                  --1. 既に所属しているチームがあり、知人から紹介を受けた場合
                      →招待コードを入力し、登録するとチームと紐付けできる
                  --2. 新規でチームを登録する場合
                      →入力フォームを開く

              新規ユーザの条件
                ・メールアドレスが存在していない
                ・LINEログインした、Googleログインした時に、各idでチェックした存在しないユーザ


      2. LINEログインでログイン(新規登録)した場合、メールアドレスを登録していないとメールが送信できない

        解決方法：
          対応①
              メール送信自体をしない (アプリを開かないと気づかない)
          対応②
              MessagingAPIでLINEへ送信する (難易度：高)


今後要検討

▼追加機能
・チームのプロフィールページにコメント
・いいね
  チームに対してか
  個人に対してか
・チャットツール
  チーム同士か
  個人か
・足跡機能
  →みてもらっているかを確認できる